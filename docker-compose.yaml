services:
  nginx:
    restart: unless-stopped
    build:
      context: ./nginx/
      dockerfile: Dockerfile
    image: nginx:0.0.1
    container_name: nginx
    ports:
     - "8443:443"
    secrets:
      - ssl-key.pem
      - ssl-cert.pem
    environment:
     - NGINX_HOST=bigt.com
     - NGINX_PORT=443
    volumes:
     - ./nginx/html:/usr/share/nginx/html
  
secrets:
  ssl-key.pem:
    file: /home/cdomet-d/Documents/CommonCore/transcendence/.secrets/ssl-key.pem
  ssl-cert.pem:
    file: /home/cdomet-d/Documents/CommonCore/transcendence/.secrets/ssl-cert.pem

volumes:
  static-nginx:
    name: static-nginx
